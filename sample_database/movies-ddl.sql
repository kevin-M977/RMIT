/*  Data Definition for the Movies Database  */
/*         1.  Data Definition           */



alter session set nls_date_format = 'DD-MON-RR';

DROP TABLE DIRECTOR CASCADE CONSTRAINTS PURGE;
DROP TABLE STAR CASCADE CONSTRAINTS PURGE;
DROP TABLE MOVIE CASCADE CONSTRAINTS PURGE;
DROP TABLE MOVSTAR CASCADE CONSTRAINTS PURGE;
DROP TABLE MEMBER CASCADE CONSTRAINTS PURGE;
DROP TABLE BORROW CASCADE CONSTRAINTS PURGE;


CREATE TABLE DIRECTOR
         (DIRNUMB    INTEGER NOT NULL ,
         DIRNAME     CHAR(20),
         DIRBORN     SMALLINT,
         DIRDIED     SMALLINT,
         PRIMARY KEY    (DIRNUMB));


CREATE TABLE STAR
         (STARNUMB   INTEGER NOT NULL ,
         STARNAME    CHAR(20),
         BRTHPLCE    CHAR(20),
         STARBORN    SMALLINT,
         STARDIED    SMALLINT,
         PRIMARY KEY    (STARNUMB));


CREATE TABLE MOVIE
         (MVNUMB     INTEGER NOT NULL ,
         MVTITLE     CHAR(30),
         YRMDE       SMALLINT,
         MVTYPE      CHAR(6),
         CRIT        SMALLINT,
         MPAA        CHAR(2),
         NOMS        SMALLINT,
         AWRD        SMALLINT,
         DIRNUMB     SMALLINT,
         PRIMARY KEY (MVNUMB),
         FOREIGN KEY (DIRNUMB) REFERENCES DIRECTOR(DIRNUMB) );


CREATE TABLE MOVSTAR
         (MVNUMB     INTEGER NOT NULL ,
         STARNUMB    INTEGER NOT NULL ,
         PRIMARY KEY (MVNUMB, STARNUMB),
         FOREIGN KEY (MVNUMB) REFERENCES MOVIE(MVNUMB),
         FOREIGN KEY (STARNUMB) REFERENCES STAR(STARNUMB) );


CREATE TABLE MEMBER
         (MMBNUMB    INTEGER NOT NULL ,
         MMBNAME     CHAR(20),
         MMBADDR     CHAR(20),
         MMBCTY      CHAR(10),
         MMBST       CHAR(2),
         NUMRENT     SMALLINT,
         BONUS       SMALLINT,
         JOINDATE    DATE,
         PRIMARY KEY (MMBNUMB));

CREATE TABLE BORROW
         (TXNUMB     INTEGER NOT NULL ,
         MVNUMB      INTEGER,
         BORDTE      DATE,
         MMBNUMB     INTEGER,
         PRIMARY KEY (TXNUMB),
         FOREIGN KEY (MVNUMB) REFERENCES MOVIE(MVNUMB),
         FOREIGN KEY (MMBNUMB) REFERENCES MEMBER(MMBNUMB) );
